<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <title>Người đăng ký hoạt động</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <th:block th:replace="base :: styles"></th:block>
</head>
<body th:replace="base :: layout(~{::content})">
<th:block th:fragment="content">
    <div class="container my-5">
        <h2 class="text-center fw-bold text-primary mb-4">Danh sách đăng ký hoạt động</h2>

        <!-- Card container for the table -->
        <div class="card shadow-sm">
            <div class="card-body">
                <table class="table table-hover table-bordered table-striped align-middle">
                    <thead class="table-light">
                        <tr>
                            <th>ID</th>
                            <th>Họ tên</th>
                            <th>Email</th>
                            <th>Tên hoạt động</th>
                            <th>Thời gian</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="u : ${ar}">
                            <td th:text="${u.id}"></td>
                            <td th:text="${u.user.name}"></td>
                            <td th:text="${u.user.email}"></td>
                            <td th:text="${u.activity.name}"></td>
                            <td th:text="${#temporals.format(u.registrationDate, 'dd/MM/yyyy HH:mm')}"></td>
                            <td>
                                <button class="btn btn-sm btn-danger"
                                        th:onclick="'deleteActivityRegistration(\''+@{/api/users/activity-registration}+'\',' + ${u.id} + ')'">
                                    <i class="fas fa-trash-alt"></i> Xóa
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script th:src="@{/js/main.js}"></script>
</th:block>
</body>
</html>
