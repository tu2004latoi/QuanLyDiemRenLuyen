<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Chi tiết Hoạt Động</title>
    <th:block th:replace="base :: styles"></th:block>
</head>
<body th:replace="base :: layout(~{::content})">
<th:block th:fragment="content">
    <div class="container my-5">
        <div class="text-center mb-4">
            <h2 class="fw-bold text-primary" th:text="${activity.name}">Tên hoạt động</h2>
        </div>

        <div class="card shadow-lg rounded">
            <div class="row g-0">
                <!-- Hình ảnh hoạt động -->
                <div class="col-md-5">
                    <img class="img-fluid rounded-start w-100 h-100" 
                         th:if="${activity.image != null}" 
                         th:src="@{${activity.image}}" 
                         alt="Ảnh hoạt động" 
                         style="object-fit: cover; height: 100%;">
                </div>

                <!-- Thông tin chi tiết -->
                <div class="col-md-7">
                    <div class="card-body">
                        <h5 class="card-title mb-3">Thông tin chi tiết</h5>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item"><strong>ID:</strong> <span th:text="${activity.id}"></span></li>
                            <li class="list-group-item"><strong>Mô tả:</strong> <span th:text="${activity.description}"></span></li>
                            <li class="list-group-item"><strong>Ngày bắt đầu:</strong> <span th:text="${#dates.format(activity.startDate, 'dd/MM/yyyy HH:mm')}"></span></li>
                            <li class="list-group-item"><strong>Ngày kết thúc:</strong> <span th:text="${#dates.format(activity.endDate, 'dd/MM/yyyy HH:mm')}"></span></li>
                            <li class="list-group-item"><strong>Điểm:</strong> <span th:text="${activity.pointValue}"></span></li>
                            <li class="list-group-item"><strong>Khoa tổ chức:</strong> <span th:text="${activity.faculty.name}">Chưa xác định</span></li>
                            <li class="list-group-item"><strong>Người tổ chức:</strong> <span th:text="${activity.organizer.name}">Chưa rõ</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Các nút hành động -->
        <div class="d-flex justify-content-between mt-4">
            <a th:href="@{/activities}" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left"></i> Quay lại
            </a>

            <div class="d-flex gap-2">
                <button class="btn btn-success"
                        th:onclick="'ActivityRegistration(\''+@{/api/activities}+'\',' + ${activity.id} + ')'">
                    <i class="fas fa-user-plus"></i> Đăng ký
                </button>

                <a th:href="@{'/activities/update/' + ${activity.id}}" class="btn btn-info text-white">
                    <i class="fas fa-edit"></i> Sửa
                </a>

                <button class="btn btn-danger"
                        th:onclick="'deleteActivity(\''+@{/api/activities}+'\',' + ${activity.id} + ')'">
                    <i class="fas fa-trash-alt"></i> Xóa
                </button>
            </div>
        </div>
    </div>

    <script th:src="@{/js/main.js}"></script>
</th:block>
</body>
</html>
